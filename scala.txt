sqoop
configuration/import_specification_eng.json
{  "import specification": {    "defaults": {      "sqoop": {        "--connect":"jdbc:db2://db2cdq0g-aws.xxx.com:5032/VGIDQ0G:sslConnection=true;",        "--username":"AHDHQ",        "--password-file":"/emr/app/configuration/pw.ssi",        "flags":[ "--as-avrodatafile", "--relaxed-isolation" ]     },     "oozie_properties":{       "oozie.wf.application.path":"/emr/app/common/data-import-export/oozie/tableImport_workflow.xml", "oozie.use.system.libpath":"true", "application_name":"vgidq0g",        "schema_name":"AVGI07", "data_import_export_path":"/emr/app/common/data-import-export", "cleanse_and_validate":"/emr/app/common/data-import-export/cleanse-and-validate", "id_vault_config":"/emr/app/configuration/idVault.config", "region":"eng", "hive_etl_directory_path":"${nameNode}/emr/data/etl", "options_file_path":"/emr/tmp/options/", "hive_master_location":"s3://vgi-retail-${region}-us-east-1-dna-enterprise/",        "archive_location":"s3://vgi-retail-${region}-us-east-1-dna-raw-enterprise/", "location_of_createTableMetadata_workflow":"${data_import_export_path}/oozie/createTableMetadata_workflow.xml", "location_of_sqoop_import_workflow":"${data_import_export_path}/oozie/sqoopImport_workflow.xml", "location_of_historic_load_workflow":"${data_import_export_path}/oozie/historicLoad_workflow.xml", "location_of_hive_load_workflow":"${data_import_export_path}/oozie/hive_load.xml", "etl_file_format":"avro", "cv_schema_output_location":"/emr/app/schemas/cv", "master_file_format":"parquet",        "cv_database_connection_string":"jdbc:db2://db2cdq0g-aws.vanguard.com:5032/VGIDQ0G:sslConnection=true;", "database_connection_string":"\"jdbc:db2://db2cdq0g-aws.vanguard.com:5032/VGIDQ0G:sslConnection=true;\"", "output_edgenode_avro_dir":"/emr/app/schemas/avsc", "output_hdfs_avro_dir":"${nameNode}/emr/app/schemas/avsc", "propertiesFilePath":"/emr/app/configuration", "historicPropertiesFile":"${propertiesFilePath}/import_historicLoad_workflow_${region}.properties", "import_specification_json":"${propertiesFilePath}/import_specification_${region}.json", "hql_path":"/emr/app/common/data-import-export/hql/", "src_python_directory_path":"/emr/app/src/main/python", "spark_job_name":"Cleanse And Validate_${hive_table}", "spark_opts":"--num-executors 20 --executor-memory 3g --executor-cores 2 --conf spark.dynamicAllocation.enabled=true --conf spark.port.maxRetries=128",        "location_of_cleanse_and_validate_workflow":"/emr/app/common/data-import-export/cleanse-and-validate/oozie/cleanse_and_validate_workflow.xml", "appPrefix":"ent", "hdfs_sqoop_directory_path":"/emr/data/sqoop", "hdfs_schema_file_path":"/emr/app/schemas/cv/${hive_table}", "hdfs_avsc_file_path":"/emr/app/schemas/avsc/${hive_table}.avsc", "hdfs_cleansed_directory_path":"/emr/data/cleansed", "hdfs_rejects_directory_path":"/emr/data/rejects", "file_delimiter":"\",\"", "convert_delimiter_to_unicode_flag":"N", "persistence_flag":"N", "remove_headers_flag":"N", "c_v_input_file_format":"avro", "c_v_output_file_format":"avro" , "hive_query_location":"${data_import_export_path}/script/", "thresholdRecordCount":"5", "hive_execution_engine":"tez"     },      "hive_load": {        "source database":"entetl",        "target database":"entmaster"      }    },    "imports": [       {        "name":"VCIN0260",        "oozie_properties":{},        "sqoop": { "--table":"AVGI07.VCIN0260", "--target-dir":"/emr/data/sqoop/tcin026", "--split-by":"CLNT_ADDR_ID", "-m":"20"},               "hive_load": { "source table":"tcin026", "target table":"tcin026", "type":"overwrite"}      },
       {        "name":"VBRKG_TRAN",        "oozie_properties":{},        "sqoop": { "--table":"AVGI07.VBRKG_TRAN", "--target-dir":"/emr/data/sqoop/tbrkg_tran", "--split-by":"ACCT_ID", "-m":"20", "--incremental":"append", "--check-column":"rcrd_dt"},                "hive_load": { "source table":"tbrkg_tran", "target table":"tbrkg_tran", "type":"insert"}      },
      { "name":"VSBS_PRTCPNT_ALOCN",        "oozie_properties":{},        "sqoop": { "--table":"AVGI07.VSBS_PRTCPNT_ALOCN", "--target-dir":"/emr/data/sqoop/tsbs_prtcpnt_alocn", "--split-by":"SAG_ID", "-m":"20"},        "hive_load": { "source table":"tsbs_prtcpnt_alocn", "target table":"tsbs_prtcpnt_alocn", "type":"overwrite"}        },      {        "name":"VFUNCT",        "oozie_properties":{},        "sqoop": { "--table":"AVGI07.VFUNCT", "--target-dir":"/emr/data/sqoop/tfunct", "--split-by":"funct_id", "-m":"1","--incremental":"append","--check-column":"lst_updtd_ts"},               "hive_load": { "source table":"tfunct", "target table":"tfunct", "type":"insert", "partitions":[{ "name":"data_date", "data type":"STRING", "value":"concat(cast(year(LST_UPDTD_TS) as string),lpad(cast(month(LST_UPDTD_TS) as string),2,\"0\"))"}]}      },       
